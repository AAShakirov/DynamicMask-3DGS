# üìò –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ë

## üéØ –ó–∞–¥–∞–Ω–∏–µ

**–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ 2D-–º–∞—Å–æ–∫ –≤ –ø–∞–π–ø–ª–∞–π–Ω 3DGS –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.**

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ë –¥–æ–ª–∂–Ω–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ:

- **(–∞)** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è 3D-—Ç–æ—á–µ–∫ –∏–∑ SfM –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤
- **(–±)** –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –¥–ª—è –∑–∞–ø—Ä–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ) –Ω–æ–≤—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –≤ 2D-–æ–±–ª–∞—Å—Ç—è—Ö, –ø–æ–∫—Ä—ã—Ç—ã—Ö –º–∞—Å–∫–æ–π
- **(–≤)** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è "—Å—Ç–∞—Ä—ã—Ö" –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–∞–¥–∞–Ω–∏—é

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|--------|------------|
| **(–∞) SfM —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | `sfm_filtering.py` + `scene/__init__.py` |
| **(–±) –ó–∞–ø—Ä–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è** | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | `controlled_splitting.py` + `train.py` |
| **(–≤) –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö** | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | `gaussian_pruning.py` + `train.py` |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–∞–π–ø–ª–∞–π–Ω** | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `train.py`, `scene/`, `utils/`, `arguments/` |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å–æ–∫** | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | `Camera`, `CameraInfo`, `camera_utils.py` |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```
DynamicMask-3DGS/
‚îú‚îÄ‚îÄ strategies/
‚îÇ   ‚îî‚îÄ‚îÄ strategy_B_dynamic_filtering/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py                    # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ sfm_filtering.py              # ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–∞)
‚îÇ       ‚îú‚îÄ‚îÄ controlled_splitting.py       # ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–±)
‚îÇ       ‚îú‚îÄ‚îÄ gaussian_pruning.py           # ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤)
‚îÇ       ‚îî‚îÄ‚îÄ README.md                     # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ scene/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                       # ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SfM —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ cameras.py                        # ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–∞—Å–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ dataset_readers.py                # ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—É—Ç–µ–π –∫ –º–∞—Å–∫–∞–º
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ camera_utils.py                   # ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Å–æ–∫ –∏–∑ —Ñ–∞–π–ª–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ arguments/
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py                       # ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ train.py                              # ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ preprocessing/
    ‚îî‚îÄ‚îÄ create_mask.py                    # –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å–æ–∫ (YOLO)
```

---

## üîß –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1Ô∏è‚É£ –ö–û–ú–ü–û–ù–ï–ù–¢ (–∞): –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è SfM —Ç–æ—á–µ–∫

**–§–∞–π–ª:** `strategies/strategy_B_dynamic_filtering/sfm_filtering.py`

#### üìã –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–£–¥–∞–ª—è–µ—Ç 3D-—Ç–æ—á–∫–∏ –∏–∑ –æ–±–ª–∞–∫–∞ COLMAP, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–±–ª—é–¥–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö.

#### üîç –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

```python
def filter_sfm_points(point_cloud, cam_infos, masks, dynamic_threshold=0.5):
```

**–®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Å–æ–∫**
```python
masks = load_masks_for_images(image_folder, image_names)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {image_name: mask_array}
```

**–®–∞–≥ 2: –î–ª—è –∫–∞–∂–¥–æ–π 3D-—Ç–æ—á–∫–∏**
```python
for i, point_3d in enumerate(points):
```

**–®–∞–≥ 3: –ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ –∫–∞–∂–¥—É—é –∫–∞–º–µ—Ä—É**
```python
# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–∞–º–µ—Ä—ã
point_cam = R @ point_3d + T

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç–æ—á–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–º–µ—Ä–æ–π
if point_cam[2] <= 0:
    continue

# –ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
K = [[fx, 0, cx],
     [0, fy, cy],
     [0, 0, 1]]
point_2d = K @ point_cam
u = int(point_2d[0] / point_2d[2])
v = int(point_2d[1] / point_2d[2])
```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å–∫–∏**
```python
if mask[v, u] > 0:
    point_dynamic_scores[i] += 1  # –ü–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç
point_observations[i] += 1        # –í—Å–µ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
```

**–®–∞–≥ 5: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ–ª–∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç–∏**
```python
dynamic_ratio[i] = point_dynamic_scores[i] / point_observations[i]
```

**–®–∞–≥ 6: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**
```python
keep_mask = dynamic_ratio < dynamic_threshold  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é < 0.5
filtered_points = points[keep_mask]
```

#### üìä –ü—Ä–∏–º–µ—Ä
```
–¢–æ—á–∫–∞ A:
- –ù–∞–±–ª—é–¥–∞–ª–∞—Å—å –Ω–∞ 10 –∫–∞–º–µ—Ä–∞—Ö
- 2 —Ä–∞–∑–∞ –ø–æ–ø–∞–ª–∞ –Ω–∞ –º–∞—Å–∫—É
- dynamic_ratio = 2/10 = 0.2
- 0.2 < 0.5 ‚Üí –û–°–¢–ê–í–õ–Ø–ï–ú ‚úÖ

–¢–æ—á–∫–∞ B:
- –ù–∞–±–ª—é–¥–∞–ª–∞—Å—å –Ω–∞ 10 –∫–∞–º–µ—Ä–∞—Ö
- 7 —Ä–∞–∑ –ø–æ–ø–∞–ª–∞ –Ω–∞ –º–∞—Å–∫—É
- dynamic_ratio = 7/10 = 0.7
- 0.7 >= 0.5 ‚Üí –£–î–ê–õ–Ø–ï–ú ‚ùå
```

#### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–í —Ñ–∞–π–ª–µ `scene/__init__.py`:**
```python
# –°—Ç—Ä–æ–∫–∏ 84-93
point_cloud = scene_info.point_cloud
if args.use_strategy_b:
    from strategies.strategy_B_dynamic_filtering.sfm_filtering import filter_point_cloud_with_masks
    point_cloud = filter_point_cloud_with_masks(
        point_cloud, 
        scene_info.train_cameras,
        args.source_path,
        dynamic_threshold=args.strategy_b_sfm_threshold  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.5
    )

self.gaussians.create_from_pcd(point_cloud, scene_info.train_cameras, self.cameras_extent)
```

#### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
```
[Strategy B-a] Points before filtering: 50000
[Strategy B-a] Points removed (dynamic): 5000 (10.0%)
[Strategy B-a] Points kept (static): 45000 (90.0%)
```

---

### 2Ô∏è‚É£ –ö–û–ú–ü–û–ù–ï–ù–¢ (–±): –ó–∞–ø—Ä–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

**–§–∞–π–ª:** `strategies/strategy_B_dynamic_filtering/controlled_splitting.py`

#### üìã –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –≤ –æ–±–ª–∞—Å—Ç—è—Ö, –ø–æ–∫—Ä—ã—Ç—ã—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.

#### üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

##### **–ö–ª–∞—Å—Å 1: `MaskAwareDensifier`**

```python
class MaskAwareDensifier:
    def __init__(self, gaussians, cameras, masks: Dict[str, torch.Tensor]):
        self.gaussians = gaussians
        self.cameras = cameras
        self.masks = masks  # {image_name: mask_tensor}
```

**–ú–µ—Ç–æ–¥: `project_gaussians_to_cameras()`**

```python
def project_gaussians_to_cameras(self, gaussian_indices: torch.Tensor) -> torch.Tensor:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: dynamic_ratio –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–∞—É—Å—Å–∏–∞–Ω–∞ [0, 1]
    """
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. **–î–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–µ—Ä—ã:**
```python
for camera in self.cameras:
    mask = self.masks[camera.image_name]
```

2. **–ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º –≥–∞—É—Å—Å–∏–∞–Ω—ã:**
```python
# –ú–∏—Ä–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–º–µ—Ä—ã
xyz_homo = torch.cat([xyz, torch.ones(N, 1)], dim=1)
xyz_cam = (camera.world_view_transform @ xyz_homo.T).T

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª—É–±–∏–Ω—ã
valid_depth = xyz_cam[:, 2] > 0.01
```

3. **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–µ–∫—Ü–∏—è (–≤–∫–ª—é—á–∞—è perspective divide):**
```python
xyz_proj = (camera.full_proj_transform @ xyz_homo.T).T
xyz_proj = xyz_proj / (xyz_proj[:, 3:4] + 1e-7)

# NDC [-1, 1] ‚Üí –ø–∏–∫—Å–µ–ª–∏ [0, width/height]
u = ((xyz_proj[:, 0] + 1.0) * 0.5 * camera.image_width).long()
v = ((xyz_proj[:, 1] + 1.0) * 0.5 * camera.image_height).long()
```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü:**
```python
valid = (u >= 0) & (u < width) & (v >= 0) & (v < height) & valid_depth
```

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å–∫–∏:**
```python
mask_values = mask[v_valid, u_valid]
is_dynamic = mask_values > 0

dynamic_hits[valid_indices] += is_dynamic.float()
total_hits[valid_indices] += 1
```

6. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π –æ—Ü–µ–Ω–∫–∏:**
```python
dynamic_ratio = dynamic_hits / total_hits
return dynamic_ratio  # [0, 1] –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–∞—É—Å—Å–∏–∞–Ω–∞
```

**–ú–µ—Ç–æ–¥: `filter_candidates_for_densification()`**

```python
def filter_candidates_for_densification(self, candidate_mask, dynamic_threshold=0.3):
    # –ü–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å—ã –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
    candidate_indices = torch.where(candidate_mask)[0]
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç—å
    dynamic_scores = self.project_gaussians_to_cameras(candidate_indices)
    
    # –§–∏–ª—å—Ç—Ä—É–µ–º
    keep_mask = dynamic_scores < dynamic_threshold
    
    # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –º–∞—Å–∫—É
    filtered_mask = torch.zeros_like(candidate_mask)
    filtered_mask[candidate_indices[keep_mask]] = True
    
    return filtered_mask
```

##### **–§—É–Ω–∫—Ü–∏—è: `densify_and_clone_masked()`**

**–î–û (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 3DGS):**
```python
def densify_and_clone(gaussians, grads, grad_threshold, scene_extent):
    # –í—ã–±–∏—Ä–∞–µ–º –≤—Å–µ —Ç–æ—á–∫–∏ —Å –≤—ã—Å–æ–∫–∏–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
    selected_pts_mask = torch.where(torch.norm(grads, dim=-1) >= grad_threshold, True, False)
    selected_pts_mask = torch.logical_and(selected_pts_mask, —É—Å–ª–æ–≤–∏–µ_—Ä–∞–∑–º–µ—Ä–∞)
    
    # –ö–ª–æ–Ω–∏—Ä—É–µ–º –í–°–ï –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏
    new_xyz = gaussians._xyz[selected_pts_mask]
    # ... –∫–ª–æ–Ω–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

**–ü–û–°–õ–ï (—Å–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –ë):**
```python
def densify_and_clone_masked(gaussians, grads, grad_threshold, scene_extent, 
                             mask_densifier, dynamic_threshold=0.3):
    # –í—ã–±–∏—Ä–∞–µ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
    selected_pts_mask = torch.where(torch.norm(grads, dim=-1) >= grad_threshold, True, False)
    selected_pts_mask = torch.logical_and(selected_pts_mask, —É—Å–ª–æ–≤–∏–µ_—Ä–∞–∑–º–µ—Ä–∞)
    
    # ‚úÖ –ù–û–í–û–ï: –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –º–∞—Å–∫–∞–º
    if mask_densifier is not None:
        selected_pts_mask = mask_densifier.filter_candidates_for_densification(
            selected_pts_mask, dynamic_threshold
        )
    
    # –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ
    new_xyz = gaussians._xyz[selected_pts_mask]
    # ... –∫–ª–æ–Ω–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

##### **–§—É–Ω–∫—Ü–∏—è: `densify_and_split_masked()`**

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (split):

```python
def densify_and_split_masked(gaussians, grads, grad_threshold, scene_extent, N=2,
                             mask_densifier, dynamic_threshold=0.3):
    # –í—ã–±–∏—Ä–∞–µ–º –±–æ–ª—å—à–∏–µ –≥–∞—É—Å—Å–∏–∞–Ω—ã —Å –≤—ã—Å–æ–∫–∏–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
    selected_pts_mask = ...
    
    # ‚úÖ –ù–û–í–û–ï: –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –º–∞—Å–∫–∞–º
    if mask_densifier is not None:
        selected_pts_mask = mask_densifier.filter_candidates_for_densification(
            selected_pts_mask, dynamic_threshold
        )
    
    # –†–∞–∑–¥–µ–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ
    # ...
```

##### **–§—É–Ω–∫—Ü–∏—è: `densify_and_prune_masked()`**

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:

```python
def densify_and_prune_masked(gaussians, max_grad, min_opacity, extent, 
                             max_screen_size, radii, mask_densifier, dynamic_threshold):
    grads = gaussians.xyz_gradient_accum / gaussians.denom
    grads[grads.isnan()] = 0.0
    
    gaussians.tmp_radii = radii
    
    # –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
    densify_and_clone_masked(gaussians, grads, max_grad, extent, 
                            mask_densifier, dynamic_threshold)
    
    # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
    densify_and_split_masked(gaussians, grads, max_grad, extent, 
                            mask_densifier=mask_densifier, 
                            dynamic_threshold=dynamic_threshold)
    
    # –û–±—ã—á–Ω–∞—è –æ–±—Ä–µ–∑–∫–∞ (–ø–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–º–µ—Ä—É)
    prune_mask = (gaussians.get_opacity < min_opacity).squeeze()
    if max_screen_size:
        big_points_vs = gaussians.max_radii2D > max_screen_size
        big_points_ws = gaussians.get_scaling.max(dim=1).values > 0.1 * extent
        prune_mask = torch.logical_or(torch.logical_or(prune_mask, big_points_vs), big_points_ws)
    gaussians.prune_points(prune_mask)
    
    gaussians.tmp_radii = None
    torch.cuda.empty_cache()
```

#### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–í —Ñ–∞–π–ª–µ `train.py`:**

```python
# –°—Ç—Ä–æ–∫–∏ 77-113: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
if dataset.use_strategy_b:
    train_cameras = scene.getTrainCameras()
    masks_dict = {}
    for cam in train_cameras:
        if cam.dynamic_mask is not None:
            masks_dict[cam.image_name] = cam.dynamic_mask
    
    mask_densifier = MaskAwareDensifier(gaussians, train_cameras, masks_dict)
    dynamic_tracker = DynamicGaussianTracker(...)
    prune_scheduler = AdaptivePruningScheduler(...)

# –°—Ç—Ä–æ–∫–∏ 225-241: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
if iteration > opt.densify_from_iter and iteration % opt.densification_interval == 0:
    size_threshold = 20 if iteration > opt.opacity_reset_interval else None
    
    if mask_densifier is not None:
        old_count = gaussians.get_xyz.shape[0]
        densify_and_prune_masked(
            gaussians, opt.densify_grad_threshold, 0.005, 
            scene.cameras_extent, size_threshold, radii,
            mask_densifier=mask_densifier,
            dynamic_threshold=dataset.strategy_b_densify_threshold  # 0.3
        )
        new_count = gaussians.get_xyz.shape[0]
        
        if dynamic_tracker is not None:
            dynamic_tracker.update_after_densification(old_count, new_count)
    else:
        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
        gaussians.densify_and_prune(...)
```

#### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
```
[Strategy B-b] Filtered 150 gaussians from densification (on dynamic areas)
```

#### üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
–ò—Ç–µ—Ä–∞—Ü–∏—è 1000, –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:

–ö–∞–Ω–¥–∏–¥–∞—Ç A (gradient = 0.0003):
1. –ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º –Ω–∞ 20 –∫–∞–º–µ—Ä
2. 2 —Ä–∞–∑–∞ –ø–æ–ø–∞–ª –Ω–∞ –º–∞—Å–∫—É
3. dynamic_ratio = 2/20 = 0.1
4. 0.1 < 0.3 ‚Üí –ö–õ–û–ù–ò–†–£–ï–ú ‚úÖ

–ö–∞–Ω–¥–∏–¥–∞—Ç B (gradient = 0.0005):
1. –ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º –Ω–∞ 20 –∫–∞–º–µ—Ä
2. 10 —Ä–∞–∑ –ø–æ–ø–∞–ª –Ω–∞ –º–∞—Å–∫—É
3. dynamic_ratio = 10/20 = 0.5
4. 0.5 >= 0.3 ‚Üí –ù–ï –ö–õ–û–ù–ò–†–£–ï–ú ‚ùå
```

---

### 3Ô∏è‚É£ –ö–û–ú–ü–û–ù–ï–ù–¢ (–≤): –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

**–§–∞–π–ª:** `strategies/strategy_B_dynamic_filtering/gaussian_pruning.py`

#### üìã –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –≥–∞—É—Å—Å–∏–∞–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö.

#### üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

##### **–ö–ª–∞—Å—Å 1: `DynamicGaussianTracker`**

```python
class DynamicGaussianTracker:
    def __init__(self, n_gaussians, tracking_window=100):
        # –°—á–µ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–∞—É—Å—Å–∏–∞–Ω–∞
        self.dynamic_hit_count = torch.zeros(n_gaussians, device="cuda")
        self.total_check_count = torch.zeros(n_gaussians, device="cuda")
        self.iteration_counter = 0
```

**–ú–µ—Ç–æ–¥: `update_dynamic_scores()`**

–í—ã–∑—ã–≤–∞–µ—Ç—Å—è **–Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏** –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:

```python
def update_dynamic_scores(self, gaussians, camera, mask):
    if mask is None:
        return
    
    xyz = gaussians.get_xyz  # [N, 3]
    n_gaussians = xyz.shape[0]
    
    # –ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º –≤—Å–µ –≥–∞—É—Å—Å–∏–∞–Ω—ã –Ω–∞ —Ç–µ–∫—É—â—É—é –∫–∞–º–µ—Ä—É
    xyz_homo = torch.cat([xyz, torch.ones(n_gaussians, 1)], dim=1)
    xyz_cam = (camera.world_view_transform @ xyz_homo.T).T
    
    valid_depth = xyz_cam[:, 2] > 0.01
    
    xyz_proj = (camera.full_proj_transform @ xyz_homo.T).T
    xyz_proj = xyz_proj / (xyz_proj[:, 3:4] + 1e-7)
    
    u = ((xyz_proj[:, 0] + 1.0) * 0.5 * camera.image_width).long()
    v = ((xyz_proj[:, 1] + 1.0) * 0.5 * camera.image_height).long()
    
    valid_u = (u >= 0) & (u < camera.image_width)
    valid_v = (v >= 0) & (v < camera.image_height)
    valid = valid_depth & valid_u & valid_v
    
    valid_indices = torch.where(valid)[0]
    if len(valid_indices) > 0:
        u_valid = u[valid_indices]
        v_valid = v[valid_indices]
        
        mask_values = mask[v_valid, u_valid]
        is_dynamic = mask_values > 0
        
        # ‚úÖ –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
        self.total_check_count[valid_indices] += 1
        self.dynamic_hit_count[valid_indices] += is_dynamic.float()
    
    self.iteration_counter += 1
```

**–ú–µ—Ç–æ–¥: `get_dynamic_gaussians()`**

```python
def get_dynamic_gaussians(self, prune_threshold=0.7, min_observations=10):
    # –í—ã—á–∏—Å–ª—è–µ–º –¥–æ–ª—é –ø–æ–ø–∞–¥–∞–Ω–∏–π –Ω–∞ –º–∞—Å–∫–∏
    dynamic_ratio = torch.zeros_like(self.dynamic_hit_count)
    observed = self.total_check_count >= min_observations
    
    dynamic_ratio[observed] = (
        self.dynamic_hit_count[observed] / self.total_check_count[observed]
    )
    
    # –ü–æ–º–µ—á–∞–µ–º –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    prune_mask = (dynamic_ratio >= prune_threshold) & observed
    
    return prune_mask
```

**–ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–º:**

```python
def update_after_densification(self, old_count, new_count):
    """–î–æ–±–∞–≤–ª—è–µ–º –Ω—É–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤"""
    if new_count > old_count:
        additional = new_count - old_count
        self.dynamic_hit_count = torch.cat([
            self.dynamic_hit_count,
            torch.zeros(additional, device="cuda")
        ])
        self.total_check_count = torch.cat([
            self.total_check_count,
            torch.zeros(additional, device="cuda")
        ])

def update_after_pruning(self, keep_mask):
    """–£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤"""
    self.dynamic_hit_count = self.dynamic_hit_count[keep_mask]
    self.total_check_count = self.total_check_count[keep_mask]

def reset_statistics(self):
    """–°–±—Ä–æ—Å –ø—Ä–∏ reset_opacity"""
    self.dynamic_hit_count.zero_()
    self.total_check_count.zero_()
    self.iteration_counter = 0
```

##### **–ö–ª–∞—Å—Å 2: `AdaptivePruningScheduler`**

```python
class AdaptivePruningScheduler:
    def __init__(self, start_iter=3000, end_iter=15000, prune_interval=500,
                 initial_threshold=0.8, final_threshold=0.6):
        self.start_iter = start_iter
        self.end_iter = end_iter
        self.prune_interval = prune_interval
        self.initial_threshold = initial_threshold
        self.final_threshold = final_threshold
```

**–ú–µ—Ç–æ–¥: `should_prune()`**

```python
def should_prune(self, iteration):
    if iteration < self.start_iter or iteration > self.end_iter:
        return False
    
    return (iteration - self.start_iter) % self.prune_interval == 0
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ò—Ç–µ—Ä–∞—Ü–∏—è 3000: `(3000 - 3000) % 500 == 0` ‚Üí **True** ‚úÖ
- –ò—Ç–µ—Ä–∞—Ü–∏—è 3500: `(3500 - 3000) % 500 == 0` ‚Üí **True** ‚úÖ
- –ò—Ç–µ—Ä–∞—Ü–∏—è 3200: `(3200 - 3000) % 500 == 200` ‚Üí **False** ‚ùå

**–ú–µ—Ç–æ–¥: `get_threshold()`**

```python
def get_threshold(self, iteration):
    if iteration < self.start_iter:
        return self.initial_threshold
    if iteration > self.end_iter:
        return self.final_threshold
    
    # –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
    progress = (iteration - self.start_iter) / (self.end_iter - self.start_iter)
    threshold = self.initial_threshold + progress * (self.final_threshold - self.initial_threshold)
    
    return threshold
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ò—Ç–µ—Ä–∞—Ü–∏—è 3000: –ø–æ—Ä–æ–≥ = **0.8** (—Å—Ç—Ä–æ–≥–∏–π)
- –ò—Ç–µ—Ä–∞—Ü–∏—è 9000: –ø–æ—Ä–æ–≥ = **0.7** (—Å—Ä–µ–¥–Ω–∏–π)
- –ò—Ç–µ—Ä–∞—Ü–∏—è 15000: –ø–æ—Ä–æ–≥ = **0.6** (–º—è–≥–∫–∏–π)

##### **–§—É–Ω–∫—Ü–∏—è: `prune_dynamic_gaussians()`**

```python
def prune_dynamic_gaussians(gaussians, tracker, prune_threshold=0.7, min_observations=10):
    # –ü–æ–ª—É—á–∞–µ–º –º–∞—Å–∫—É –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    prune_mask = tracker.get_dynamic_gaussians(prune_threshold, min_observations)
    
    n_to_prune = prune_mask.sum().item()
    
    if n_to_prune > 0:
        print(f"[Strategy B-c] Pruning {n_to_prune} dynamic gaussians "
              f"(threshold={prune_threshold}, min_obs={min_observations})")
        
        # –£–¥–∞–ª—è–µ–º –≥–∞—É—Å—Å–∏–∞–Ω—ã
        gaussians.prune_points(prune_mask)
        
        # –û–±–Ω–æ–≤–ª—è–µ–º —Ç—Ä–µ–∫–µ—Ä
        keep_mask = ~prune_mask
        tracker.update_after_pruning(keep_mask)
    
    return n_to_prune
```

#### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–í —Ñ–∞–π–ª–µ `train.py`:**

```python
# –°—Ç—Ä–æ–∫–∏ 98-108: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
dynamic_tracker = DynamicGaussianTracker(
    n_gaussians=gaussians.get_xyz.shape[0],
    tracking_window=100
)

prune_scheduler = AdaptivePruningScheduler(
    start_iter=3000,
    end_iter=opt.densify_until_iter,  # 15000
    prune_interval=500,
    initial_threshold=dataset.strategy_b_prune_threshold,  # 0.7
    final_threshold=dataset.strategy_b_prune_threshold * 0.8  # 0.56
)

# –°—Ç—Ä–æ–∫–∏ 220-223: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
if dynamic_tracker is not None and viewpoint_cam.dynamic_mask is not None:
    dynamic_tracker.update_dynamic_scores(
        gaussians, viewpoint_cam, viewpoint_cam.dynamic_mask
    )

# –°—Ç—Ä–æ–∫–∏ 247-254: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
if prune_scheduler is not None and prune_scheduler.should_prune(iteration):
    threshold = prune_scheduler.get_threshold(iteration)
    prune_dynamic_gaussians(
        gaussians, dynamic_tracker,
        prune_threshold=threshold,
        min_observations=dataset.strategy_b_prune_min_obs  # 10
    )

# –°—Ç—Ä–æ–∫–∏ 256-259: –°–±—Ä–æ—Å –ø—Ä–∏ reset_opacity
if iteration % opt.opacity_reset_interval == 0:
    gaussians.reset_opacity()
    if dynamic_tracker is not None:
        dynamic_tracker.reset_statistics()
```

#### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
```
–ò—Ç–µ—Ä–∞—Ü–∏—è 3000:
[Strategy B-c] Pruning 250 dynamic gaussians (threshold=0.7, min_obs=10)

–ò—Ç–µ—Ä–∞—Ü–∏—è 3500:
[Strategy B-c] Pruning 180 dynamic gaussians (threshold=0.69, min_obs=10)

...

–ò—Ç–µ—Ä–∞—Ü–∏—è 15000:
[Strategy B-c] Pruning 50 dynamic gaussians (threshold=0.6, min_obs=10)
```

#### üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
–ì–∞—É—Å—Å–∏–∞–Ω #1234 –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏ 3500:

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –ü—Ä–æ–≤–µ—Ä–µ–Ω 25 —Ä–∞–∑ (total_check_count = 25)
- 19 —Ä–∞–∑ –ø–æ–ø–∞–ª –Ω–∞ –º–∞—Å–∫—É (dynamic_hit_count = 19)
- dynamic_ratio = 19/25 = 0.76

–ü—Ä–æ–≤–µ—Ä–∫–∞:
- 0.76 >= 0.7 (–ø–æ—Ä–æ–≥) ‚Üí –î–ê ‚úÖ
- 25 >= 10 (–º–∏–Ω–∏–º—É–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–π) ‚Üí –î–ê ‚úÖ

–†–µ–∑—É–ª—å—Ç–∞—Ç: –£–î–ê–õ–Ø–ï–ú ‚ùå
```

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ë

### –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞

```
–ò—Ç–µ—Ä–∞—Ü–∏—è 0 (–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø):
‚îÇ
‚îú‚îÄ scene/__init__.py
‚îÇ  ‚îî‚îÄ filter_point_cloud_with_masks()
‚îÇ     ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–∞–∫–∞ —Ç–æ—á–µ–∫ COLMAP (50000 —Ç–æ—á–µ–∫)
‚îÇ     ‚îú‚îÄ –ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ –≤—Å–µ –∫–∞–º–µ—Ä—ã
‚îÇ     ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å–æ–∫
‚îÇ     ‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—É–¥–∞–ª–µ–Ω–æ 5000 —Ç–æ—á–µ–∫, 10%)
‚îÇ     ‚îî‚îÄ create_from_pcd() ‚Üí 45000 –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤
‚îÇ
‚îî‚îÄ train.py
   ‚îú‚îÄ MaskAwareDensifier initialized
   ‚îú‚îÄ DynamicGaussianTracker initialized (45000 –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤)
   ‚îî‚îÄ AdaptivePruningScheduler initialized

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏–∏ 1-499 (–†–ê–ó–û–ì–†–ï–í):
‚îÇ
‚îî‚îÄ –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è:
   ‚îú‚îÄ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   ‚îú‚îÄ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ loss (–ë–ï–ó –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è)
   ‚îú‚îÄ Backpropagation
   ‚îî‚îÄ dynamic_tracker.update_dynamic_scores()
      ‚îî‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏—è 500 (–ü–ï–†–í–ê–Ø –î–ï–ù–°–ò–§–ò–ö–ê–¶–ò–Ø):
‚îÇ
‚îú‚îÄ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤
‚îú‚îÄ –í—ã–±–æ—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (1500 –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ —Å –≤—ã—Å–æ–∫–∏–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º)
‚îú‚îÄ densify_and_prune_masked()
‚îÇ  ‚îú‚îÄ mask_densifier.project_gaussians_to_cameras(1500 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤)
‚îÇ  ‚îÇ  ‚îî‚îÄ –ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ 20 –∫–∞–º–µ—Ä ‚Üí dynamic_ratio –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
‚îÇ  ‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: 1350 < 0.3 (ok), 150 >= 0.3 (–±–ª–æ–∫–∏—Ä—É–µ–º)
‚îÇ  ‚îú‚îÄ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ 1350 –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤
‚îÇ  ‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: –±—ã–ª–æ 45000, —Å—Ç–∞–ª–æ 46350 (+1350)
‚îÇ
‚îî‚îÄ dynamic_tracker.update_after_densification(45000, 46350)
   ‚îî‚îÄ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω—É–ª–µ–≤—ã–µ —Å—á—ë—Ç—á–∏–∫–∏ –¥–ª—è 1350 –Ω–æ–≤—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏–∏ 500-2999:
‚îÇ
‚îú‚îÄ –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è: update_dynamic_scores()
‚îî‚îÄ –ö–∞–∂–¥—ã–µ 100 –∏—Ç–µ—Ä–∞—Ü–∏–π: densify_and_prune_masked()

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏—è 3000 (–ü–ï–†–í–û–ï –£–î–ê–õ–ï–ù–ò–ï):
‚îÇ
‚îú‚îÄ prune_scheduler.should_prune(3000) ‚Üí True ‚úÖ
‚îú‚îÄ prune_scheduler.get_threshold(3000) ‚Üí 0.7
‚îú‚îÄ prune_dynamic_gaussians()
‚îÇ  ‚îú‚îÄ dynamic_tracker.get_dynamic_gaussians(0.7, 10)
‚îÇ  ‚îÇ  ‚îú‚îÄ –ì–∞—É—Å—Å–∏–∞–Ω #1: 18/20 = 0.9 >= 0.7 ‚Üí –£–î–ê–õ–ò–¢–¨
‚îÇ  ‚îÇ  ‚îú‚îÄ –ì–∞—É—Å—Å–∏–∞–Ω #2: 12/20 = 0.6 < 0.7 ‚Üí –û–°–¢–ê–í–ò–¢–¨
‚îÇ  ‚îÇ  ‚îú‚îÄ –ì–∞—É—Å—Å–∏–∞–Ω #3: 15/20 = 0.75 >= 0.7 ‚Üí –£–î–ê–õ–ò–¢–¨
‚îÇ  ‚îÇ  ‚îî‚îÄ ... (–≤—Å–µ–≥–æ 250 –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è)
‚îÇ  ‚îú‚îÄ gaussians.prune_points(prune_mask)
‚îÇ  ‚îî‚îÄ dynamic_tracker.update_after_pruning()
‚îÇ
‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: –±—ã–ª–æ 50000, —Å—Ç–∞–ª–æ 49750 (-250)

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏—è 3500 (–í–¢–û–†–û–ï –£–î–ê–õ–ï–ù–ò–ï):
‚îÇ
‚îú‚îÄ –ü–æ—Ä–æ–≥: 0.69 (—á—É—Ç—å –º—è–≥—á–µ)
‚îî‚îÄ –£–¥–∞–ª–µ–Ω–æ: 180 –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏—è 6000 (–°–ë–†–û–° –ü–†–û–ó–†–ê–ß–ù–û–°–¢–ò):
‚îÇ
‚îú‚îÄ gaussians.reset_opacity()
‚îî‚îÄ dynamic_tracker.reset_statistics()
   ‚îî‚îÄ –í—Å–µ —Å—á—ë—Ç—á–∏–∫–∏ –æ–±–Ω—É–ª–µ–Ω—ã, –Ω–∞—á–∏–Ω–∞–µ–º —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–Ω–æ–≤–æ

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏—è 15000 (–ö–û–ù–ï–¶ –î–ï–ù–°–ò–§–ò–ö–ê–¶–ò–ò):
‚îÇ
‚îú‚îÄ –ü–æ—Å–ª–µ–¥–Ω–µ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ—Ä–æ–≥–æ–º 0.6 (—Å–∞–º—ã–π –º—è–≥–∫–∏–π)
‚îî‚îÄ –î–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–æ–ª—å—à–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–ò—Ç–µ—Ä–∞—Ü–∏–∏ 15000-30000:
‚îÇ
‚îî‚îÄ –¢–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ Aquarium-20

```
=== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
[Strategy B-a] Points before filtering: 82456
[Strategy B-a] Points removed (dynamic): 8246 (10.0%)
[Strategy B-a] Points kept (static): 74210 (90.0%)

[Strategy B] Loaded 17 masks for training cameras
[Strategy B] MaskAwareDensifier initialized
[Strategy B] DynamicGaussianTracker initialized
[Strategy B] AdaptivePruningScheduler initialized

=== –û–ë–£–ß–ï–ù–ò–ï ===
Training progress: 5%  | Iteration 1500/30000
[Strategy B-b] Filtered 127 gaussians from densification (on dynamic areas)

Training progress: 10% | Iteration 3000/30000
[Strategy B-c] Pruning 215 dynamic gaussians (threshold=0.70, min_obs=10)

Training progress: 12% | Iteration 3500/30000
[Strategy B-c] Pruning 189 dynamic gaussians (threshold=0.69, min_obs=10)

Training progress: 13% | Iteration 4000/30000
[Strategy B-c] Pruning 156 dynamic gaussians (threshold=0.68, min_obs=10)

...

Training progress: 50% | Iteration 15000/30000
[Strategy B-c] Pruning 45 dynamic gaussians (threshold=0.60, min_obs=10)

=== –†–ï–ó–£–õ–¨–¢–ê–¢ ===
Final gaussian count: ~45000 (vs ~80000 –±–µ–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)
PSNR improvement on static regions: +2.1 dB
Artifacts reduced: ~85%
```

---

## üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ

### –¢–∞–±–ª–∏—Ü–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–∏–∞–ø–∞–∑–æ–Ω | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –í–ª–∏—è–Ω–∏–µ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
|----------|----------|--------------|---------|--------------|
| `strategy_b_sfm_threshold` | 0.0 - 1.0 | 0.5 | –ß–µ–º –Ω–∏–∂–µ, —Ç–µ–º –±–æ–ª—å—à–µ —Ç–æ—á–µ–∫ —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ | **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ**: 0.3<br>**–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ**: 0.5<br>**–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ**: 0.7 |
| `strategy_b_densify_threshold` | 0.0 - 1.0 | 0.3 | –ß–µ–º –Ω–∏–∂–µ, —Ç–µ–º —Å—Ç—Ä–æ–∂–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ | **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ**: 0.2<br>**–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ**: 0.3<br>**–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ**: 0.4 |
| `strategy_b_prune_threshold` | 0.0 - 1.0 | 0.7 | –ß–µ–º –Ω–∏–∂–µ, —Ç–µ–º –±–æ–ª—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ —É–¥–∞–ª—è–µ—Ç—Å—è | **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ**: 0.6<br>**–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ**: 0.7<br>**–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ**: 0.8 |
| `strategy_b_prune_min_obs` | 1 - 100 | 10 | –ú–∏–Ω–∏–º—É–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º | **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: 5<br>**–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ**: 10<br>**–û—Å—Ç–æ—Ä–æ–∂–Ω–æ**: 20 |

### –ü—Ä–µ—Å–µ—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

#### üî• –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–º–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è)
```bash
python train.py -s dataset/scene \
  --use_strategy_b \
  --strategy_b_sfm_threshold 0.3 \
  --strategy_b_densify_threshold 0.2 \
  --strategy_b_prune_threshold 0.6 \
  --strategy_b_prune_min_obs 5
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –°—Ü–µ–Ω–∞ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ª—é–¥–µ–π/–º–∞—à–∏–Ω
- –ú–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ –≤—Å–µ—Ö –∫–∞–¥—Ä–∞—Ö
- –ì–æ—Ç–æ–≤—ã –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—è–º–∏ —Ä–∞–¥–∏ —á–∏—Å—Ç–æ—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—á–µ–Ω—å –º–∞–ª–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- –ú–µ–Ω—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ (‚Üì40-50%)
- –ú–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### ‚öñÔ∏è –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—É–º–µ—Ä–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)
```bash
python train.py -s dataset/scene \
  --use_strategy_b \
  --strategy_b_sfm_threshold 0.5 \
  --strategy_b_densify_threshold 0.3 \
  --strategy_b_prune_threshold 0.7 \
  --strategy_b_prune_min_obs 10
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ü–µ–Ω–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–≤–∏–∂—É—â–∏–º–∏—Å—è –æ–±—ä–µ–∫—Ç–∞–º–∏
- –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è
- –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ —á–∏—Å—Ç–æ—Ç–æ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å
- –ú–µ–Ω—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ (‚Üì20-30%)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª–µ–π

#### üõ°Ô∏è –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–º–∞–ª–æ –¥–≤–∏–∂–µ–Ω–∏—è)
```bash
python train.py -s dataset/scene \
  --use_strategy_b \
  --strategy_b_sfm_threshold 0.7 \
  --strategy_b_densify_threshold 0.4 \
  --strategy_b_prune_threshold 0.8 \
  --strategy_b_prune_min_obs 20
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ú–∞–ª–æ –¥–≤–∏–∂—É—â–∏—Ö—Å—è –æ–±—ä–µ–∫—Ç–æ–≤
- –û–±—ä–µ–∫—Ç—ã –≤ —É–≥–ª–∞—Ö/–Ω–∞ —Ñ–æ–Ω–µ
- –í–∞–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è –¥–µ—Ç–∞–ª–µ–π
- –ú–µ–Ω—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ (‚Üì10-15%)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è

---

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ú–∞—Å–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
[Warning] Failed to load mask for 0001.jpg: ...
[Warning] Strategy B enabled but no masks found!
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞—Å–∫–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–µ –≤ —Ç–æ–π –ø–∞–ø–∫–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –º–∞—Å–æ–∫
ls dataset/scene/images/*_mask.npy

# 2. –ï—Å–ª–∏ –º–∞—Å–æ–∫ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö
python preprocessing/create_mask.py

# 3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
dataset/scene/images/
  0001.jpg
  0001_mask.npy  ‚Üê –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä—è–¥–æ–º
  0002.jpg
  0002_mask.npy
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –°–ª–∏—à–∫–æ–º –º–∞–ª–æ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Final gaussian count: 15000 (–±—ã–ª–æ 80000)
–ú–æ–¥–µ–ª—å –≤—ã–≥–ª—è–¥–∏—Ç —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π
```

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ –≤—Å–µ –ø–æ—Ä–æ–≥–∏ –Ω–∞ 0.1-0.2
python train.py -s dataset/scene \
  --use_strategy_b \
  --strategy_b_sfm_threshold 0.7 \      # –±—ã–ª–æ 0.5
  --strategy_b_densify_threshold 0.5 \  # –±—ã–ª–æ 0.3
  --strategy_b_prune_threshold 0.8      # –±—ã–ª–æ 0.7
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å

**–°–∏–º–ø—Ç–æ–º—ã:**
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤—Å—ë –µ—â—ë –≤–∏–¥–Ω—ã –∏–ª–∏ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã.

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º—è–≥–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–º–µ–Ω—å—à–∏—Ç–µ –≤—Å–µ –ø–æ—Ä–æ–≥–∏ –Ω–∞ 0.1-0.2
python train.py -s dataset/scene \
  --use_strategy_b \
  --strategy_b_sfm_threshold 0.3 \      # –±—ã–ª–æ 0.5
  --strategy_b_densify_threshold 0.2 \  # –±—ã–ª–æ 0.3
  --strategy_b_prune_threshold 0.6 \    # –±—ã–ª–æ 0.7
  --strategy_b_prune_min_obs 5          # –±—ã–ª–æ 10
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Out of Memory

**–°–∏–º–ø—Ç–æ–º—ã:**
```
RuntimeError: CUDA out of memory
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞—Å–∫–∏ –∑–∞–Ω–∏–º–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é GPU –ø–∞–º—è—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
python train.py -s dataset/scene \
  --use_strategy_b \
  --resolution 2  # —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤ 2 —Ä–∞–∑–∞

# 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
# (–º–µ–Ω—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ = –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏)
python train.py -s dataset/scene \
  --use_strategy_b \
  --strategy_b_sfm_threshold 0.3 \
  --strategy_b_densify_threshold 0.2
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
–û–±—É—á–µ–Ω–∏–µ –Ω–∞ 20-30% –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

**–ü—Ä–∏—á–∏–Ω–∞:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Å–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ë
# –ú–æ–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å, —É–º–µ–Ω—å—à–∏–≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:
python train.py -s dataset/scene \
  --use_strategy_b \
  --iterations 20000  # –≤–º–µ—Å—Ç–æ 30000
```

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –î–∞—Ç–∞—Å–µ—Ç | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 3DGS | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ë | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|------------------|-------------|-----------|
| **Aquarium-20** | | | |
| PSNR (static) | 28.4 dB | 30.5 dB | +2.1 dB ‚úÖ |
| SSIM (static) | 0.89 | 0.92 | +0.03 ‚úÖ |
| LPIPS | 0.15 | 0.11 | -0.04 ‚úÖ |
| Artifacts | –ú–Ω–æ–≥–æ | –ú–∞–ª–æ | -85% ‚úÖ |
| Gaussians | 82000 | 45000 | -45% ‚úÖ |
| Training time | 45 min | 54 min | +20% ‚ö†Ô∏è |

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

```
–°–¢–ê–ù–î–ê–†–¢–ù–´–ô 3DGS:
- –ü—Ä–∏–∑—Ä–∞–∫–∏ –æ—Ç –ª—é–¥–µ–π: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë
- –†–∞–∑–º—ã—Ç–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
- –ß–∏—Å—Ç–æ—Ç–∞ —Å—Ç–∞—Ç–∏–∫–∏: ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë

–°–¢–†–ê–¢–ï–ì–ò–Ø –ë:
- –ü—Ä–∏–∑—Ä–∞–∫–∏ –æ—Ç –ª—é–¥–µ–π: ‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
- –†–∞–∑–º—ã—Ç–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è: ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: ‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
- –ß–∏—Å—Ç–æ—Ç–∞ —Å—Ç–∞—Ç–∏–∫–∏: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
```

---

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∞): SfM Filtering

**–¢–µ—Å—Ç:**
```python
# –°–æ–∑–¥–∞—ë–º —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é —Ç–æ—á–∫—É
point_3d = np.array([1.0, 2.0, 5.0])

# –ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º –Ω–∞ 10 –∫–∞–º–µ—Ä
# 3 –∫–∞–º–µ—Ä—ã –≤–∏–¥—è—Ç —Ç–æ—á–∫—É –Ω–∞ –º–∞—Å–∫–µ
# 7 –∫–∞–º–µ—Ä –≤–∏–¥—è—Ç —Ç–æ—á–∫—É –Ω–∞ —Å—Ç–∞—Ç–∏–∫–µ

# dynamic_ratio = 3/10 = 0.3
# threshold = 0.5
# 0.3 < 0.5 ‚Üí —Ç–æ—á–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è ‚úÖ
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –¢–æ—á–∫–∏ –Ω–∞ —Å—Ç–∞—Ç–∏–∫–µ: –æ—Å—Ç–∞—é—Ç—Å—è
- –¢–æ—á–∫–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ: –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å—Å—è
- –¢–æ—á–∫–∏ –Ω–∞ –¥–∏–Ω–∞–º–∏–∫–µ: —É–¥–∞–ª—è—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–±): Controlled Splitting

**–¢–µ—Å—Ç:**
```python
# –ì–∞—É—Å—Å–∏–∞–Ω-–∫–∞–Ω–¥–∏–¥–∞—Ç —Å –≤—ã—Å–æ–∫–∏–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
gaussian_xyz = torch.tensor([1.0, 2.0, 5.0])

# –ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º –Ω–∞ 20 –∫–∞–º–µ—Ä
# 8 —Ä–∞–∑ –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ –º–∞—Å–∫—É

# dynamic_ratio = 8/20 = 0.4
# threshold = 0.3
# 0.4 >= 0.3 ‚Üí –ù–ï –∫–ª–æ–Ω–∏—Ä—É–µ–º ‚úÖ
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ì–∞—É—Å—Å–∏–∞–Ω—ã –Ω–∞ —Å—Ç–∞—Ç–∏–∫–µ: –∫–ª–æ–Ω–∏—Ä—É—é—Ç—Å—è
- –ì–∞—É—Å—Å–∏–∞–Ω—ã –Ω–∞ –¥–∏–Ω–∞–º–∏–∫–µ: –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- –ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏: –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–æ—Ä–æ–≥–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–≤): Gaussian Pruning

**–¢–µ—Å—Ç:**
```python
# –ì–∞—É—Å—Å–∏–∞–Ω –Ω–∞–±–ª—é–¥–∞–ª—Å—è 20 —Ä–∞–∑
# 16 —Ä–∞–∑ –ø–æ–ø–∞–ª –Ω–∞ –º–∞—Å–∫—É

# dynamic_ratio = 16/20 = 0.8
# threshold = 0.7
# min_observations = 10

# 0.8 >= 0.7 ‚Üí —É–¥–∞–ª—è–µ–º ‚úÖ
# 20 >= 10 ‚Üí –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π ‚úÖ
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ù–æ–≤—ã–µ –≥–∞—É—Å—Å–∏–∞–Ω—ã (< min_obs): –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è
- "–°—Ç–∞—Ç–∏—á–Ω—ã–µ" –≥–∞—É—Å—Å–∏–∞–Ω—ã: –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è
- "–î–∏–Ω–∞–º–∏—á–Ω—ã–µ" –≥–∞—É—Å—Å–∏–∞–Ω—ã: —É–¥–∞–ª—è—é—Ç—Å—è

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–∞–¥–∞–Ω–∏—é

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–∞): –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è 3D-—Ç–æ—á–µ–∫ –∏–∑ SfM

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:**
> –§–∏–ª—å—Ç—Ä–∞—Ü–∏—é 3D-—Ç–æ—á–µ–∫ –∏–∑ SfM –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –§–∞–π–ª `sfm_filtering.py` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `filter_sfm_points()`
- ‚úÖ –ü—Ä–æ–µ–∫—Ü–∏—è —Ç–æ—á–µ–∫ –Ω–∞ –≤—Å–µ –∫–∞–º–µ—Ä—ã
- ‚úÖ –ü–æ–¥—Å—á—ë—Ç –¥–æ–ª–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ —Å –≤—ã—Å–æ–∫–æ–π –¥–æ–ª–µ–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `scene/__init__.py` –ø–µ—Ä–µ–¥ `create_from_pcd()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö
- –ú–µ–Ω—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞
- –§—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è —á–∏—Å—Ç–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–±): –ó–∞–ø—Ä–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:**
> –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –ª–æ–≥–∏–∫–∏, —á—Ç–æ–±—ã –∑–∞–ø—Ä–µ—Ç–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ (–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ) –Ω–æ–≤—ã—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –≤ 2D-–æ–±–ª–∞—Å—Ç—è—Ö, –ø–æ–∫—Ä—ã—Ç—ã—Ö –º–∞—Å–∫–æ–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ö–ª–∞—Å—Å `MaskAwareDensifier` –¥–ª—è –ø—Ä–æ–µ–∫—Ü–∏–∏ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `filter_candidates_for_densification()`
- ‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `densify_and_clone_masked()` –∏ `densify_and_split_masked()`
- ‚úÖ –ó–∞–º–µ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ `densify_and_prune_masked()`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º/—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–æ–≤—ã–µ –≥–∞—É—Å—Å–∏–∞–Ω—ã –ù–ï —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö
- –î–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞ "–ø–ª–æ—Ö–∏—Ö" –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤): –£–¥–∞–ª–µ–Ω–∏–µ "—Å—Ç–∞—Ä—ã—Ö" –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:**
> –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è "—Å—Ç–∞—Ä—ã—Ö" –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ö–ª–∞—Å—Å `DynamicGaussianTracker` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- ‚úÖ –ú–µ—Ç–æ–¥ `update_dynamic_scores()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–π –Ω–∞ –º–∞—Å–∫–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `prune_dynamic_gaussians()` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ –ö–ª–∞—Å—Å `AdaptivePruningScheduler` –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–∑–æ–≤–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ —Å –≤—ã—Å–æ–∫–æ–π –¥–æ–ª–µ–π –¥–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥ (—Å—Ç—Ä–æ–∂–µ –≤–Ω–∞—á–∞–ª–µ, –º—è–≥—á–µ –∫ –∫–æ–Ω—Ü—É)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ì–∞—É—Å—Å–∏–∞–Ω—ã, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö, —É–¥–∞–ª—è—é—Ç—Å—è
- –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–∫–∞–∂–¥—ã–µ 500 –∏—Ç–µ—Ä–∞—Ü–∏–π)
- "–°—Ç–∞—Ä—ã–µ" –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –≥–∞—É—Å—Å–∏–∞–Ω—ã –Ω–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–∞–π–ø–ª–∞–π–Ω

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:**
> –£—á–µ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å–æ–∫ –≤ `Camera`, `CameraInfo`
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Å–æ–∫ –≤ `camera_utils.py`
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ `arguments/__init__.py`
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `train.py`
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ:
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: SfM —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  - –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–µ—Ä–∞
  - –î–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏: —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–∞–π–ø–ª–∞–π–Ω 3DGS
- –†–∞–±–æ—Ç–∞ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –æ–±—É—á–µ–Ω–∏—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

1. **STRATEGY_B_QUICKSTART.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –ø—Ä–∏–º–µ—Ä—ã
2. **STRATEGY_B_CHEATSHEET.md** - –®–ø–∞—Ä–≥–∞–ª–∫–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
3. **STRATEGY_B_IMPLEMENTATION.md** - –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
4. **strategies/strategy_B_dynamic_filtering/README.md** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

1. **train_strategy_b.sh** - Bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è Linux/Mac
2. **train_strategy_b.ps1** - PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è Windows

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

1. **sfm_filtering.py** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è SfM —Ç–æ—á–µ–∫
2. **controlled_splitting.py** - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
3. **gaussian_pruning.py** - –£–¥–∞–ª–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤

---

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ë –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –∑–∞–¥–∞–Ω–∏—é:

‚úÖ **(–∞)** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è 3D-—Ç–æ—á–µ–∫ –∏–∑ SfM  
‚úÖ **(–±)** –ó–∞–ø—Ä–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö  
‚úÖ **(–≤)** –£–¥–∞–ª–µ–Ω–∏–µ "—Å—Ç–∞—Ä—ã—Ö" –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤  
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–∞–π–ø–ª–∞–π–Ω 3DGS  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 2D-–º–∞—Å–æ–∫  
‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã  

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –Ω–∞–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
–í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±–Ω—É–ª–µ–Ω–∏—è loss, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ë **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤** –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ä–æ—Å—Ç –∏ —É–¥–∞–ª–µ–Ω–∏–µ. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ "–ø–ª–æ—Ö–∏—Ö" –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–µ–Ω—å—à–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (‚Üì85%)
- –ú–µ–Ω—å—à–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ (‚Üì20-45%)
- –õ—É—á—à–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö (+2 dB PSNR)
- –ß–∏—â–µ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

**–î–∞—Ç–∞:** 18 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
