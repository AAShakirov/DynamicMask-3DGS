# Strategy B - –®–ø–∞—Ä–≥–∞–ª–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –º–∞—Å–∫–∏
python preprocessing/create_mask.py

# 2. –û–±—É—á–µ–Ω–∏–µ —Å–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π B
python train.py -s dataset/your_scene --use_strategy_b
```

## üìä –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—è B

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç |
|-----------|------------|----------------|
| **(–∞) SfM Filtering** | –£–¥–∞–ª—è–µ—Ç 3D-—Ç–æ—á–∫–∏ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö | –ü–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π |
| **(–±) Controlled Splitting** | –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö | –í–æ –≤—Ä–µ–º—è –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| **(–≤) Gaussian Pruning** | –£–¥–∞–ª—è–µ—Ç "—Å—Ç–∞—Ä—ã–µ" –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≥–∞—É—Å—Å–∏–∞–Ω—ã | –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–∫–∞–∂–¥—ã–µ 500 –∏—Ç–µ—Ä–∞—Ü–∏–π) |

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)

```bash
--use_strategy_b                          # –í–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
--strategy_b_sfm_threshold 0.5            # SfM —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (‚Üì = –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ)
--strategy_b_densify_threshold 0.3        # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (‚Üì = –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ)
--strategy_b_prune_threshold 0.7          # –£–¥–∞–ª–µ–Ω–∏–µ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ (‚Üì = –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ)
--strategy_b_prune_min_obs 10             # –ú–∏–Ω. –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
```

## üéØ –ü—Ä–µ—Å–µ—Ç—ã

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π (–º–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è)
```bash
--strategy_b_sfm_threshold 0.3 \
--strategy_b_densify_threshold 0.2 \
--strategy_b_prune_threshold 0.6
```

### –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```bash
--strategy_b_sfm_threshold 0.5 \
--strategy_b_densify_threshold 0.3 \
--strategy_b_prune_threshold 0.7
```

### –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π (–º–∞–ª–æ –¥–≤–∏–∂–µ–Ω–∏—è)
```bash
--strategy_b_sfm_threshold 0.7 \
--strategy_b_densify_threshold 0.4 \
--strategy_b_prune_threshold 0.8
```

## üìÅ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ú–∞—Å–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.npy` —Ä—è–¥–æ–º —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ò–º—è —Ñ–∞–π–ª–∞: `{image_name}_mask.npy`
- –§–æ—Ä–º–∞—Ç –º–∞—Å–∫–∏: `uint8` –∏–ª–∏ `float`, –∑–Ω–∞—á–µ–Ω–∏—è `0` = —Å—Ç–∞—Ç–∏–∫–∞, `> 0` = –¥–∏–Ω–∞–º–∏–∫–∞

## üìà –ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏

```
[Strategy B-a] Points removed (dynamic): 5000 (10.0%)
[Strategy B-b] Filtered 150 gaussians from densification
[Strategy B-c] Pruning 250 dynamic gaussians
```

## üîß Troubleshooting

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| "No masks found" | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `*_mask.npy` –≤ –ø–∞–ø–∫–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ |
| –°–ª–∏—à–∫–æ–º –º–∞–ª–æ –≥–∞—É—Å—Å–∏–∞–Ω–æ–≤ | –£–≤–µ–ª–∏—á—å—Ç–µ –≤—Å–µ –ø–æ—Ä–æ–≥–∏ (+0.1 - +0.2) |
| –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å | –£–º–µ–Ω—å—à–∏—Ç–µ –≤—Å–µ –ø–æ—Ä–æ–≥–∏ (-0.1 - -0.2) |
| Out of memory | `--resolution 2` –∏–ª–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è |

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ](STRATEGY_B_QUICKSTART.md)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](strategies/strategy_B_dynamic_filtering/README.md)
